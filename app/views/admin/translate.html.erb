<div class="max-w-6xl mx-auto px-4 py-6">
  <div class="flex items-end justify-between mb-4">
    <h1 class="text-xl font-semibold">Reports needing translation</h1>
    <div class="text-sm text-gray-500"><%= @datasets.size %> items</div>
  </div>

  <div class="space-y-4">
    <% @datasets.each do |d| %>
      <%= form_with model: d,
                    url: admin_update_translation_path(d),
                    method: :patch,
                    class: "rounded-lg border bg-white shadow-sm" do |f| %>

        <div class="px-4 py-3 border-b flex items-center justify-between">
          <div class="text-sm text-gray-600">
            <div class="">
              Date: <%= d.spotted_on.strftime("%B %d, %Y") %> <%= d.spotted_time.strftime("%I:%M %p") %>
            </div>
            <div class="">
              Location: <%= d.address %>
            </div>
          </div>

          <%= f.submit "Save",
                class: "inline-flex items-center rounded-lg bg-black text-white px-3 py-1.5 text-sm hover:bg-gray-800" %>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-4">
          <!-- ENGLISH -->
          <div class="rounded-lg border p-3">
            <div class="text-xs font-semibold text-gray-500 mb-2">ENGLISH</div>

            <div class="mb-3">
              <div class="text-xs text-gray-500 mb-1">Title</div>
              <% if d.title.present? %>
                <div class="text-sm text-gray-900"><%= d.title %></div>
              <% else %>
                <%= f.text_field :title,
                      class: "w-full rounded-md border-gray-300 focus:border-black focus:ring-black text-sm",
                      placeholder: "Add English title" %>
              <% end %>
            </div>

            <div>
              <div class="text-xs text-gray-500 mb-1">Description</div>
              <% if d.body.present? %>
                <div class="text-sm text-gray-900 whitespace-pre-wrap"><%= d.body %></div>
              <% else %>
                <%= f.text_area :body,
                      rows: 4,
                      class: "w-full rounded-md border-gray-300 focus:border-black focus:ring-black text-sm",
                      placeholder: "Add English description" %>
              <% end %>
            </div>
          </div>

          <!-- SPANISH -->
          <div class="rounded-lg border p-3">
            <div class="text-xs font-semibold text-gray-500 mb-2">Español</div>

            <div class="mb-3">
              <div class="text-xs text-gray-500 mb-1">Título</div>
              <% if d.es_title.present? %>
                <div class="text-sm text-gray-900"><%= d.es_title %></div>
              <% else %>
                <%= f.text_field :es_title,
                      class: "w-full rounded-md border-gray-300 focus:border-black focus:ring-black text-sm",
                      placeholder: "Agregar título en español" %>
              <% end %>
            </div>

            <div>
              <div class="text-xs text-gray-500 mb-1">Descripción</div>
              <% if d.es_body.present? %>
                <div class="text-sm text-gray-900 whitespace-pre-wrap"><%= d.es_body %></div>
              <% else %>
                <%= f.text_area :es_body,
                      rows: 4,
                      class: "w-full rounded-md border-gray-300 focus:border-black focus:ring-black text-sm",
                      placeholder: "Agregar descripción en español" %>
              <% end %>
            </div>
          </div>
        </div>

      <% end %>
    <% end %>
  </div>
</div>
